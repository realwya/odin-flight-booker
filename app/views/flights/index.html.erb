<h1>Flights</h1>

<%= form_with url: '/flights', method: :get do |form| %>
  <div>
    <%= form.label :departure_airport, 'Departure airport:' %>
    <%= form.select :departure_airport, @airport_options %>
  </div>

  <div>
    <%= form.label :arrival_airport_id, 'Arrival airport:' %>
    <%= form.select :arrival_airport, @airport_options %>
  </div>

  <div>
    <%= form.label :flight_date, 'Date:' %>
    <%= form.date_select :flight_date %>
  </div>

  <div>
    <%= form.label :number_of_passengers, 'Number of passengers:' %>
    <%= form.select :number_of_passengers, [1, 2, 3, 4] %>
  </div>

  <div>
    <%= form.submit "Search" %>
  </div>
<% end %>

<ul>
  <% @flights.find_each do |flight| %>
    <li>
    <p><%= flight.departure_airport.code %> -> <%= flight.arrival_airport.code %> Date:<%= flight.date.to_fs(:long) %> Duration:<%= flight.duration_in_minutes %> min</p>
    </li>
  <% end %>
</ul>
